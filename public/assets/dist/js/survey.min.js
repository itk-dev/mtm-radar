!function(n){var t=function(n,t){return"undefined"!=typeof SurveyConfiguration&&SurveyConfiguration&&void 0!==SurveyConfiguration[n]&&SurveyConfiguration[n]?SurveyConfiguration[n]:t},e=t("borderColors",["#009BDD","#82338E","#E820B4","#1FE53E","#12E3E3"]),i=function(n,t){var e=new RegExp("^#([0-9a-z]{2})([0-9a-z]{2})([0-9a-z]{2})$","i").exec(n);return e?"rgba("+[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),t].join(", ")+")":n},r=t("backgroundColorsTransparency",.2),a=t("backgroundColors",e.map(function(n){return i(n,r)})),o=e,d=t("datasetConfig",{fill:!0,backgroundColor:a[0],borderColor:e[0],pointRadius:2,pointBorderWidth:0,pointBackgroundColor:o[0],pointStyle:"circle",data:[]}),u=function(t,i){return t||(t=0),n.extend({},d,{backgroundColor:a[t],borderColor:e[t],pointBackgroundColor:o[t]},i)},s=function(t){return t.find(".question").map(function(){return{title:n(this).find(".title").html(),text:n(this).find(".text").html(),reply:n(this).find('input[type="radio"]:checked').val(),comment:n(this).find("textarea").val()}}).get()},c=function(t){var e=n(t),i=e.data("replies"),r=e.data("configuration"),a=e.find("section"),o=s(e),d=function(){var n=0;for(var t in r.rating)if(r.rating.hasOwnProperty(t)){var e=parseInt(t);e>n&&(n=e)}return n}(),c=function(){var n=0,t=/^#([0-9]+)/.exec(location.hash);return t&&t[1]&&(n=t[1]),n-1}(),f=a.length,l=new Chart(document.getElementById("chart"),{type:"radar",data:{labels:o.map(function(n,t){return t+1+". "}),datasets:[u()]},options:{legend:{display:!1},scale:{ticks:{min:0,max:d,stepSize:1},gridLines:{color:["#212529","#212529","#212529","#212529","#212529"]}}}}),p=function(n,t){l.data.datasets[0].data[n]=t,l.update()},h=function(){a.hide().eq(c).show().find(".question").length>0?(n("#chartinfo-wrapper").show(),n("#survey-info").hide()):(n("#chartinfo-wrapper").hide(),n("#survey-info").show()),n(window).scrollTop(0)},v=function(){n("form").validate({showErrors:function(){n("#validation-errors").toggle(this.errorList.length>0)}}),n("form").valid()&&(c<f&&c++,h())};if("undefined"!=typeof surveyReplies){var g=n(".answer-handle").map(function(){return n.trim(n(this).parent().find(".chart-label").text())}).get(),y=function(){var t=n(".answer-handle:checked").map(function(){return n(this).data("index")}).get();n(".reply").each(function(){var e=n(this).data("answer-index");n(this).toggle(t.indexOf(e)>-1)}),l.data.datasets.forEach(function(n,e){n.hidden=-1===t.indexOf(e)}),l.update()};l.data.datasets=surveyReplies.map(function(n,t){return u(t,{label:g[t],data:n.map(function(n){return n.value})})}),l.options.legend.display=!0,n(".answer-handle").on("change",y),y()}else i?i.forEach(function(n,t){p(t,n.value)}):(e.find(".survey-prev").on("click",function(){c>0&&(c--,h())}),e.find(".survey-next").on("click",v),e.find(".survey-frontpage").on("click",function(){c=0,h()}),e.find('input[type="radio"]').on("change",function(){var t=n(this).closest("[data-index]").data("index");p(t,n(this).val())}),e.find('input[type="radio"]').each(function(){if(n(this).prop("checked")){var t=n(this).closest("[data-index]").data("index");p(t,n(this).val())}}),v())};n(function(){c(".survey")})}(jQuery);